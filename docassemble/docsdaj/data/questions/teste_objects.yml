metadata:
  title: Teste Colaborador
---
initial: True
code: |
  set_language('pt')
---
objects:
  - colaboradores: DAList.using(object_type=Individual)
---
question: Nomear o colaborador?
yesno: colaboradores.there_are_any
default: yes

---
question: Adicionar mais um colaborador?
yesno: colaboradores.there_is_another
---
code: |
  pessoas = colaboradores.complete_elements()
---
reconsider:
  - pessoas
question: |
  Quem é o ${ ordinal(i) } colaborador?
fields:
  - Existing or New: colaboradores[i].existing_or_new
    datatype: radio
    default: New
    choices:
      - Existing
      - New
  - Person: colaboradores[i]
    show if:
      variable: colaboradores[i].existing_or_new
      is: Existing
    datatype: object
    choices: pessoas
  - Nome: colaboradores[i].name.first
  - Estado OAB: colaboradores[i].estadooab
    required: True
    show if:
      variable: colaboradores[i].existing_or_new
      is: New
  - Número OAB: colaboradores[i].numoab
    required: True
    datatype: integer
    show if:
      variable: colaboradores[i].existing_or_new
      is: New
---
code: |
  for i in colaboradores:
    capitalize(colaboradores[i].name.first)
---
mandatory: True
question: |
  O seu documento foi gerado com sucesso!
attachment:
  name: Teste Requeridos
  language: pt
  docx template file: teste-colaboradores.docx
  valid formats:
    - pdf
    - docx
buttons:
  - Sair: exit
---
features:
  navigation: horizontal
  progress bar: True
  question back button: True
---